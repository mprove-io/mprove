view: ec1_orders
label: Orders
connection: c1_postgres
table: ecommerce.orders

build_metrics:
- time: created

fields:
- dimension: order_id
  sql: order_id
  label: Id

- dimension: user_id
  sql: user_id
  
- dimension: status
  sql: status
  
# - measure: status_list
#   type: list
#   sql: ${status}

- dimension: created_at_ts
  hidden: true
  sql: TIMESTAMP 'epoch' + created_at * INTERVAL '1 second'
  
- time: created
  sql: ${created_at_ts}
  # timeframes:
  # - date
  # - date_ts
  # - day_of_week
  # - day_of_week_index
  # - day_of_month  
  # - day_of_year
  # - week
  # - week_ts
  # - week_of_year  
  # - month
  # - month_ts
  # - month_name
  # - month_num 
  # - quarter
  # - quarter_ts
  # - quarter_of_year  
  # - year
  # - year_ts
  # - time_of_day
  # - time
  # - ts
  # - hour_of_day
  # - hour
  # - hour_ts
  # - hour2
  # - hour3
  # - hour4
  # - hour6
  # - hour8
  # - hour12
  # - minute
  # - minute_ts
  # - minute2
  # - minute3
  # - minute5
  # - minute10
  # - minute15
  # - minute30
  # - yesno_has_value
  
- measure: count 
  type: count_distinct
  sql: ${order_id}  
