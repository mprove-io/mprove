<div class="bg-blue1 flex flex-col h-full">
  <div class="flex flex-row items-center justify-between mt-7 mx-6">
    <div
      data-cy="projectTeamTitle"
      class="flex font-semibold text-2xl text-gray1"
      >Project - Team
    </div>

    <div class="flex">
      <button
        data-cy="inviteMemberButton"
        class="py-2 px-5 bg-blue3 text-white rounded font-medium focus:outline-none"
        type="submit"
        (click)="inviteMember()"
        >Invite Member</button
      >
    </div>
  </div>

  <div class="flex-1 bg-white mx-6 mt-4 mb-4 rounded shadow-lg">
    <div class="mx-5 mt-8 text-gray1">
      <table class="min-w-full divide-y divide-gray-500">
        <thead>
          <tr class="text-sm h-12 text-left">
            <th>Name</th>
            <th>Email</th>
            <th>Alias</th>
            <th>Project Admin</th>
            <th>BlockML Editor</th>
            <th>Model Explorer</th>
            <th>Access Roles</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let member of members; let i = index">
            <td class="flex flex-row space-x-5 items-center my-3">
              <button
                class="relative block ml-5 h-10 w-10 z-10 rounded-full bg-blue-200 text-md tracking-wider focus:outline-none"
                (click)="showPhoto(member.memberId)"
                [disabled]="!member.avatarSmall"
              >
                <m-avatar [avatar]="member.avatarSmall"></m-avatar>
              </button>
              <div>{{ member.fullName }}</div>
            </td>
            <td>{{ member.email }}</td>
            <td>{{ member.alias }}</td>
            <td>{{ member.isAdmin }}</td>
            <td>{{ member.isEditor }}</td>
            <td>{{ member.isExplorer }}</td>
            <td>{{ member.roles }}</td>
            <td>
              <button
                class="h-10 w-10 rounded-full text-red1 focus:outline-none"
                [ngClass]="{
                  'text-gray1': member.memberId === userId
                }"
                [disabled]="member.memberId === userId"
                (click)="removeMember(member)"
              >
                <div
                  class="flex justify-center"
                  [ngClass]="{
                    'text-gray1': member.memberId === userId,
                    'cursor-default': member.memberId === userId
                  }"
                >
                  <m-delete-icon></m-delete-icon>
                </div>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div *ngIf="userId$ | async"></div>
<div *ngIf="projectId$ | async"></div>
<div *ngIf="members$ | async"></div>
