<div class="bg-m0 ml-6 w-full rounded shadow">
  <div
    class="flex h-full flex-col items-center justify-center"
    *ngIf="nav?.needValidate === true"
  >
    <div class="text-a500">
      <m-alert-ring></m-alert-ring>
    </div>

    <div class="text-xl"> Validation is required </div>

    <button
      data-cy="filesRightValidateButton"
      class="text-m0 mt-5 h-11 rounded px-5 py-2 text-base text-lg font-medium focus:outline-none"
      type="button"
      [ngClass]="{
        'bg-m600': isEditor === true,
        'bg-s400 cursor-default': isEditor === false
      }"
      (click)="validate()"
      [disabled]="isEditor === false"
      >Validate Files</button
    >
  </div>

  <m-repo-conflicts
    *ngIf="nav?.needValidate === false && repo && repo.conflicts.length > 0"
  ></m-repo-conflicts>

  <m-blockml-errors
    *ngIf="
      nav?.needValidate === false &&
      repo &&
      repo.conflicts.length === 0 &&
      struct &&
      struct.errors.length > 0
    "
  ></m-blockml-errors>

  <div
    *ngIf="
      nav?.needValidate === false &&
      repo &&
      repo.conflicts.length === 0 &&
      struct &&
      struct.errors.length === 0 &&
      !secondFileNodeId
    "
    class="flex h-full flex-col items-center justify-center"
  >
    <m-completed-ring></m-completed-ring>
    <div class="mt-4 text-xl"> Mprove Files are valid </div>
  </div>

  <div
    class="flex h-full w-full flex-col"
    *ngIf="
      nav?.needValidate === false &&
      repo &&
      repo.conflicts.length === 0 &&
      struct &&
      struct.errors.length === 0 &&
      !!secondFileNodeId
    "
  >
    <div class="mb-6 mt-6 flex h-11 w-full flex-shrink-0 flex-row items-center">
      <div
        class="text-s1 ml-[36px] min-w-[2px] max-w-max flex-grow truncate text-lg"
        >{{ secondFileName }}
      </div>
    </div>

    <div class="divide-s300 ml-6 mr-6 flex flex-col divide-y">
      <div class="flex flex-row"></div>
      <div class="flex flex-row"></div>
    </div>

    <div
      *ngIf="isShowSpinner === true"
      class="flex h-full w-full items-center justify-center"
    >
      <div class="relative flex h-9 w-9 flex-shrink-0">
        <ngx-spinner
          [name]="spinnerName"
          color="#0084d1"
          bdColor="#00000000"
          size="default"
          type="ball-clip-rotate"
          [fullScreen]="false"
          [disableAnimation]="true"
          [zIndex]="99998"
        >
        </ngx-spinner>
      </div>
    </div>

    <div class="h-full rounded">
      <ng-monaco-editor
        [ngClass]="{
          invisible: isShowSpinner === true
        }"
        data-cy="rightFileMonacoEditor"
        [options]="editorOptions"
        [(ngModel)]="secondFileContent"
        (editorChange)="onEditorChange($event)"
        (ngModelChange)="onTextChanged()"
      ></ng-monaco-editor>
    </div>
  </div>
</div>

<div *ngIf="repo$ | async"></div>
<div *ngIf="struct$ | async"></div>
<div *ngIf="nav$ | async"></div>
<div *ngIf="isEditor$ | async"></div>
<div *ngIf="secondFileNodeId$ | async"></div>
