<div *ngFor="let filter of extendedFilters; let filterIndex = index">
  <div class="flex flex-row mb-3">
    <div class="flex flex-col justify-center items-start w-32">
      <div class="font-normal text-sm truncate">{{
        filter.field.topLabel | capitalize
      }}</div>

      <div class="flex flex-row font-semibold text-left">
        <div *ngIf="filter.field.groupLabel"
          >{{ filter.field.groupLabel | capitalize }} -
          {{ filter.field.label | capitalize }}</div
        >

        <div *ngIf="!filter.field.groupLabel" class="">{{
          filter.field.label | capitalize
        }}</div>
      </div>
    </div>

    <div
      class="flex flex-row justify-start items-center"
      *ngFor="
        let fraction of filter.fractions;
        let isFirst = first;
        let fractionIndex = index
      "
    >
      <m-fraction
        [fieldResult]="filter.field.result"
        [fraction]="fraction"
        [fractionIndex]="fractionIndex"
        [isFirst]="isFirst"
        (fractionUpdate)="fractionUpdate(filter, filterIndex, $event)"
      >
      </m-fraction>

      <!-- <button
        mat-icon-button
        color="warn"
        (click)="deleteFraction(filter, filterIndex, fractionIndex)"
      >
        <mat-icon>close</mat-icon>
      </button> -->

      <!-- <span *ngIf="fraction.has_duplicates" class="model-filters__error"
        >duplicate filter</span
      > -->
    </div>
  </div>
</div>

<div *ngIf="extendedFilters$ | async"></div>
