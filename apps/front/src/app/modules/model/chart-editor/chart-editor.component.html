<div class="mx-5 mt-2">
  <!-- <div class="text-xl text-gray1 font-semibold mb-5">Data</div> -->

  <div
    *ngIf="chart.type === chartTypeEnum.Table"
    class="flex flex-row items-start"
  >
    <div class="flex flex-col">
      <div class="flex h-[36px] text-gray1 text-base items-center select-none"
        >Page Size (visible rows)</div
      >
    </div>

    <div [formGroup]="pageSizeForm" class="flex flex-col ml-3 items-start">
      <input
        data-cy="chartEditorPageSizeInput"
        class="w-32 h-[36px] form-input rounded border-gray3 focus:border-blue3"
        [ngClass]="{
          'border-red-600':
            pageSizeForm.controls['pageSize'].invalid &&
            pageSizeForm.controls['pageSize'].touched
        }"
        formControlName="pageSize"
        (blur)="pageSizeBlur()"
      />
      <m-validation
        [control]="pageSizeForm.controls['pageSize']"
      ></m-validation>
    </div>
  </div>

  <div
    *ngIf="chart.type === chartTypeEnum.Table"
    class="mb-5 flex flex-row items-start"
  >
    <div class="flex h-[36px] text-gray1 text-base items-center select-none"
      >Hide Columns</div
    >

    <div class="flex flex-col ml-5 mt-2 items-start space-y-4">
      <div
        *ngFor="let column of sortedColumns"
        class="flex flex-row items-center"
      >
        <button
          data-cy="chartEditorHideColumnsCheckbox"
          class="flex items-center justify-center h-6 w-6 border-2 border-blue3 text-white rounded focus:outline-none"
          [ngClass]="{
            'bg-blue3 ': hideColumnsIsChecked(column.id)
          }"
          (click)="hideColumnsOnClick(column.id)"
        >
          <m-check-icon *ngIf="hideColumnsIsChecked(column.id)"></m-check-icon>
        </button>

        <m-field-label [column]="column" class="ml-3 text-sm"></m-field-label>
      </div>
    </div>
  </div>

  <div
    *ngIf="
      chart.type === chartTypeEnum.Area ||
      chart.type === chartTypeEnum.AreaNormalized ||
      chart.type === chartTypeEnum.AreaStacked ||
      chart.type === chartTypeEnum.BarHorizontal ||
      chart.type === chartTypeEnum.BarHorizontalGrouped ||
      chart.type === chartTypeEnum.BarHorizontalNormalized ||
      chart.type === chartTypeEnum.BarHorizontalStacked ||
      chart.type === chartTypeEnum.BarVertical ||
      chart.type === chartTypeEnum.BarVerticalGrouped ||
      chart.type === chartTypeEnum.BarVerticalNormalized ||
      chart.type === chartTypeEnum.BarVerticalStacked ||
      chart.type === chartTypeEnum.Gauge ||
      chart.type === chartTypeEnum.HeatMap ||
      chart.type === chartTypeEnum.Line ||
      chart.type === chartTypeEnum.NumberCard ||
      chart.type === chartTypeEnum.Pie ||
      chart.type === chartTypeEnum.PieAdvanced ||
      chart.type === chartTypeEnum.PieGrid ||
      chart.type === chartTypeEnum.TreeMap
    "
    class="flex flex-row items-start mb-5"
  >
    <div class="flex flex-col">
      <div
        class="flex h-[36px] w-32 text-gray1 text-base items-center select-none"
        >xField</div
      >
    </div>

    <form [formGroup]="xFieldForm" class="ml-5">
      <ng-select
        #xFieldSelect
        data-cy="xFieldSelect"
        class="w-72 text-base focus:outline-none"
        [items]="
          chart.type === chartTypeEnum.NumberCard
            ? sortedColumnsPlusEmpty
            : sortedColumns
        "
        [clearable]="false"
        [searchable]="false"
        (change)="xFieldChange()"
        appendTo="body"
        bindLabel="label"
        bindValue="id"
        formControlName="xField"
      >
        <ng-template ng-label-tmp let-item="item">
          <m-field-label [column]="item" class="text-sm"></m-field-label>
        </ng-template>
        <ng-template
          ng-option-tmp
          let-item="item"
          let-index="index"
          let-search="searchTerm"
        >
          <m-field-label [column]="item" class="text-sm"></m-field-label>
        </ng-template>
      </ng-select>
    </form>
  </div>

  <div
    *ngIf="
      chart.type === chartTypeEnum.Area ||
      chart.type === chartTypeEnum.AreaNormalized ||
      chart.type === chartTypeEnum.AreaStacked ||
      chart.type === chartTypeEnum.BarHorizontalGrouped ||
      chart.type === chartTypeEnum.BarHorizontalNormalized ||
      chart.type === chartTypeEnum.BarHorizontalStacked ||
      chart.type === chartTypeEnum.BarVerticalGrouped ||
      chart.type === chartTypeEnum.BarVerticalNormalized ||
      chart.type === chartTypeEnum.BarVerticalStacked ||
      chart.type === chartTypeEnum.HeatMap ||
      chart.type === chartTypeEnum.Line
    "
    class="flex flex-row items-start mb-5"
  >
    <div class="flex flex-col">
      <div
        class="flex h-[36px] w-32 text-gray1 text-base items-center select-none"
        >multiField</div
      >
    </div>

    <form [formGroup]="multiFieldForm" class="ml-5">
      <ng-select
        #multiFieldSelect
        data-cy="multiFieldSelect"
        class="w-72 text-base focus:outline-none"
        [items]="sortedColumnsPlusEmpty"
        [clearable]="false"
        [searchable]="false"
        (change)="multiFieldChange()"
        appendTo="body"
        bindLabel="label"
        bindValue="id"
        formControlName="multiField"
      >
        <ng-template ng-label-tmp let-item="item">
          <m-field-label [column]="item" class="text-sm"></m-field-label>
        </ng-template>
        <ng-template
          ng-option-tmp
          let-item="item"
          let-index="index"
          let-search="searchTerm"
        >
          <m-field-label [column]="item" class="text-sm"></m-field-label>
        </ng-template>
      </ng-select>
    </form>
  </div>

  <div
    *ngIf="chart.type === chartTypeEnum.GaugeLinear"
    class="flex flex-row items-start mb-5"
  >
    <div class="flex flex-col">
      <div
        class="flex h-[36px] w-32 text-gray1 text-base items-center select-none"
        >Value Field</div
      >
    </div>

    <form [formGroup]="valueFieldForm" class="ml-5">
      <ng-select
        #valueFieldSelect
        data-cy="valueFieldSelect"
        class="w-72 text-base focus:outline-none"
        [items]="sortedColumns"
        [clearable]="false"
        [searchable]="false"
        (change)="valueFieldChange()"
        appendTo="body"
        bindLabel="label"
        bindValue="id"
        formControlName="valueField"
      >
        <ng-template ng-label-tmp let-item="item">
          <m-field-label [column]="item" class="text-sm"></m-field-label>
        </ng-template>
        <ng-template
          ng-option-tmp
          let-item="item"
          let-index="index"
          let-search="searchTerm"
        >
          <m-field-label [column]="item" class="text-sm"></m-field-label>
        </ng-template>
      </ng-select>
    </form>
  </div>

  <div
    *ngIf="chart.type === chartTypeEnum.GaugeLinear"
    class="flex flex-row items-start mb-5"
  >
    <div class="flex flex-col">
      <div
        class="flex h-[36px] w-32 text-gray1 text-base items-center select-none"
        >Previous Value Field</div
      >
    </div>

    <form [formGroup]="previousValueFieldForm" class="ml-5">
      <ng-select
        #previousValueFieldSelect
        data-cy="previousValueFieldSelect"
        class="w-72 text-base focus:outline-none"
        [items]="sortedColumnsPlusEmpty"
        [clearable]="false"
        [searchable]="false"
        (change)="previousValueFieldChange()"
        appendTo="body"
        bindLabel="label"
        bindValue="id"
        formControlName="previousValueField"
      >
        <ng-template ng-label-tmp let-item="item">
          <m-field-label [column]="item" class="text-sm"></m-field-label>
        </ng-template>
        <ng-template
          ng-option-tmp
          let-item="item"
          let-index="index"
          let-search="searchTerm"
        >
          <m-field-label [column]="item" class="text-sm"></m-field-label>
        </ng-template>
      </ng-select>
    </form>
  </div>

  <div
    *ngIf="
      chart.type === chartTypeEnum.BarHorizontal ||
      chart.type === chartTypeEnum.BarVertical ||
      chart.type === chartTypeEnum.Gauge ||
      chart.type === chartTypeEnum.NumberCard ||
      chart.type === chartTypeEnum.Pie ||
      chart.type === chartTypeEnum.PieAdvanced ||
      chart.type === chartTypeEnum.PieGrid ||
      chart.type === chartTypeEnum.TreeMap
    "
    class="flex flex-row items-start mb-5"
  >
    <div class="flex flex-col">
      <div
        class="flex h-[36px] w-32 text-gray1 text-base items-center select-none"
        >yField</div
      >
    </div>

    <form [formGroup]="yFieldForm" class="ml-5">
      <ng-select
        #yFieldSelect
        data-cy="yFieldSelect"
        class="w-72 text-base focus:outline-none"
        [items]="sortedColumns"
        [clearable]="false"
        [searchable]="false"
        (change)="yFieldChange()"
        appendTo="body"
        bindLabel="label"
        bindValue="id"
        formControlName="yField"
      >
        <ng-template ng-label-tmp let-item="item">
          <m-field-label [column]="item" class="text-sm"></m-field-label>
        </ng-template>
        <ng-template
          ng-option-tmp
          let-item="item"
          let-index="index"
          let-search="searchTerm"
        >
          <m-field-label [column]="item" class="text-sm"></m-field-label>
        </ng-template>
      </ng-select>
    </form>
  </div>

  <div
    *ngIf="
      chart.type === chartTypeEnum.BarVerticalGrouped ||
      chart.type === chartTypeEnum.BarHorizontalGrouped ||
      chart.type === chartTypeEnum.BarVerticalStacked ||
      chart.type === chartTypeEnum.BarHorizontalStacked ||
      chart.type === chartTypeEnum.BarVerticalNormalized ||
      chart.type === chartTypeEnum.BarHorizontalNormalized ||
      chart.type === chartTypeEnum.Line ||
      chart.type === chartTypeEnum.Area ||
      chart.type === chartTypeEnum.AreaStacked ||
      chart.type === chartTypeEnum.AreaNormalized ||
      chart.type === chartTypeEnum.HeatMap
    "
    class="mb-5 flex flex-row items-start"
  >
    <div
      class="flex h-[36px] w-32 text-gray1 text-base items-center select-none"
      >yFields</div
    >

    <div class="flex flex-col ml-5 mt-2 items-start space-y-4">
      <div
        *ngFor="let column of sortedColumns"
        class="flex flex-row items-center"
      >
        <button
          data-cy="chartEditorYFieldsCheckbox"
          class="flex items-center justify-center h-6 w-6 border-2 border-blue3 text-white rounded focus:outline-none"
          [ngClass]="{
            'bg-blue3 ': yFieldsIsChecked(column.id)
          }"
          (click)="yFieldsOnClick(column.id)"
        >
          <m-check-icon *ngIf="yFieldsIsChecked(column.id)"></m-check-icon>
        </button>

        <m-field-label [column]="column" class="ml-3 text-sm"></m-field-label>
      </div>
    </div>
  </div>

  <!-- <div
    class="text-xl text-gray1 font-semibold mb-5"
    *ngIf="chart.type !== chartTypeEnum.Table"
    >Axis</div
  > -->

  <!-- <div class="text-xl text-gray1 font-semibold mb-5">Options</div> -->

  <div
    *ngIf="
      chart.type === chartTypeEnum.Area ||
      chart.type === chartTypeEnum.AreaNormalized ||
      chart.type === chartTypeEnum.AreaStacked ||
      chart.type === chartTypeEnum.BarHorizontal ||
      chart.type === chartTypeEnum.BarHorizontalGrouped ||
      chart.type === chartTypeEnum.BarHorizontalNormalized ||
      chart.type === chartTypeEnum.BarHorizontalStacked ||
      chart.type === chartTypeEnum.BarVertical ||
      chart.type === chartTypeEnum.BarVerticalGrouped ||
      chart.type === chartTypeEnum.BarVerticalNormalized ||
      chart.type === chartTypeEnum.BarVerticalStacked ||
      chart.type === chartTypeEnum.Gauge ||
      chart.type === chartTypeEnum.GaugeLinear ||
      chart.type === chartTypeEnum.HeatMap ||
      chart.type === chartTypeEnum.Line ||
      chart.type === chartTypeEnum.NumberCard ||
      chart.type === chartTypeEnum.Pie ||
      chart.type === chartTypeEnum.PieAdvanced ||
      chart.type === chartTypeEnum.PieGrid ||
      chart.type === chartTypeEnum.TreeMap
    "
    class="flex flex-row items-start mb-5"
  >
    <div class="flex flex-col">
      <div
        class="flex h-[36px] w-32 text-gray1 text-base items-center select-none"
        >Color Scheme</div
      >
    </div>

    <form [formGroup]="colorSchemeForm" class="ml-5">
      <ng-select
        #colorSchemeSelect
        data-cy="colorSchemeSelect"
        class="w-72 text-base focus:outline-none"
        [items]="colorSchemesList"
        [clearable]="false"
        [searchable]="false"
        (change)="colorSchemeChange()"
        appendTo="body"
        bindLabel="label"
        bindValue="value"
        formControlName="colorScheme"
      >
        <!-- <ng-template ng-label-tmp let-item="item">
        <m-field-label [column]="item" class="text-sm"></m-field-label>
      </ng-template>
      <ng-template
        ng-option-tmp
        let-item="item"
        let-index="index"
        let-search="searchTerm"
      >
        <m-field-label [column]="item" class="text-sm"></m-field-label>
      </ng-template> -->
      </ng-select>
    </form>
  </div>

  <div
    *ngIf="
      chart.type === chartTypeEnum.Area ||
      chart.type === chartTypeEnum.AreaNormalized ||
      chart.type === chartTypeEnum.AreaStacked ||
      chart.type === chartTypeEnum.BarHorizontal ||
      chart.type === chartTypeEnum.BarHorizontalGrouped ||
      chart.type === chartTypeEnum.BarHorizontalNormalized ||
      chart.type === chartTypeEnum.BarHorizontalStacked ||
      chart.type === chartTypeEnum.BarVertical ||
      chart.type === chartTypeEnum.BarVerticalGrouped ||
      chart.type === chartTypeEnum.BarVerticalNormalized ||
      chart.type === chartTypeEnum.BarVerticalStacked ||
      chart.type === chartTypeEnum.Line
    "
    class="flex flex-row items-start mb-5"
  >
    <div class="flex flex-col">
      <div
        class="flex h-[36px] w-32 text-gray1 text-base items-center select-none"
        >Scheme Type</div
      >
    </div>

    <form [formGroup]="schemeTypeForm" class="ml-5">
      <ng-select
        #schemeTypeSelect
        data-cy="schemeTypeSelect"
        class="w-72 text-base focus:outline-none"
        [items]="schemeTypesList"
        [clearable]="false"
        [searchable]="false"
        (change)="schemeTypeChange()"
        appendTo="body"
        bindLabel="label"
        bindValue="value"
        formControlName="schemeType"
      >
        <!-- <ng-template ng-label-tmp let-item="item">
        <m-field-label [column]="item" class="text-sm"></m-field-label>
      </ng-template>
      <ng-template
        ng-option-tmp
        let-item="item"
        let-index="index"
        let-search="searchTerm"
      >
        <m-field-label [column]="item" class="text-sm"></m-field-label>
      </ng-template> -->
      </ng-select>
    </form>
  </div>

  <div
    *ngIf="
      chart.type === chartTypeEnum.Area ||
      chart.type === chartTypeEnum.AreaNormalized ||
      chart.type === chartTypeEnum.AreaStacked ||
      chart.type === chartTypeEnum.Line
    "
    class="flex flex-row items-start mb-5"
  >
    <div class="flex flex-col">
      <div
        class="flex h-[36px] w-32 text-gray1 text-base items-center select-none"
        >Interpolation</div
      >
    </div>

    <form [formGroup]="interpolationForm" class="ml-5">
      <ng-select
        #interpolationSelect
        data-cy="interpolationSelect"
        class="w-72 text-base focus:outline-none"
        [items]="interpolationsList"
        [clearable]="false"
        [searchable]="false"
        (change)="interpolationChange()"
        appendTo="body"
        bindLabel="label"
        bindValue="value"
        formControlName="interpolation"
      >
        <!-- <ng-template ng-label-tmp let-item="item">
        <m-field-label [column]="item" class="text-sm"></m-field-label>
      </ng-template>
      <ng-template
        ng-option-tmp
        let-item="item"
        let-index="index"
        let-search="searchTerm"
      >
        <m-field-label [column]="item" class="text-sm"></m-field-label>
      </ng-template> -->
      </ng-select>
    </form>
  </div>

  <div
    *ngIf="chart.type === chartTypeEnum.NumberCard"
    class="flex flex-row items-center mb-5"
  >
    <div class="flex flex-col">
      <div
        class="flex h-[36px] w-60 text-gray1 text-base items-center select-none"
        >Band - Card - Text - Empty</div
      >
    </div>

    <m-color-menu
      class="ml-5"
      [color]="chart.bandColor"
      (colorChange)="bandColorChange($event)"
    ></m-color-menu>

    <m-color-menu
      class="ml-5"
      [color]="chart.cardColor"
      (colorChange)="cardColorChange($event)"
    ></m-color-menu>

    <m-color-menu
      class="ml-5"
      [color]="chart.textColor"
      (colorChange)="textColorChange($event)"
    ></m-color-menu>

    <m-color-menu
      class="ml-5"
      [color]="chart.emptyColor"
      (colorChange)="emptyColorChange($event)"
    ></m-color-menu>
  </div>
</div>
