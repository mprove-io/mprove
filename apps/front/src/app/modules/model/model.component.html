<div class="bg-blue1 flex flex-col h-full">
  <div class="flex flex-row h-full">
    <div class="flex flex-col flex-grow mx-6 mb-6 mt-8">
      <div class="flex flex-row justify-between items-center h-11">
        <div class="flex flex-row items-center space-x-5">
          <div
            data-cy="blockmlTitle"
            class="flex font-semibold text-2xl text-gray1 items-center self-center"
          >
            Model
          </div>

          <div class="text-xl text-gray1">{{ model?.label | capitalize }}</div>

          <button
            class="flex flex-row items-center text-blue-500 focus:outline-none"
            (click)="goToFile()"
          >
            <m-arrow-narrow-right-icon></m-arrow-narrow-right-icon>
            <div class="ml-2 text-xl">File</div>
          </button>
        </div>

        <div class="flex flex-row space-x-3 items-center"> </div>
      </div>

      <div class="flex flex-row flex-grow mt-6">
        <m-model-tree class="flex w-1/4"></m-model-tree>

        <div class="flex flex-col flex-grow ml-6 space-y-6">
          <div
            class="bg-white rounded shadow-md w-full"
            [ngClass]="{
              'flex-1': filtersIsExpanded
            }"
          >
            <div class="flex h-full">
              <div class="flex h-16 items-center flex-shrink-0">
                <m-panel-title
                  [title]="'Filters'"
                  [isExpanded]="filtersIsExpanded"
                  (toggleEvent)="toggleFiltersPanel()"
                ></m-panel-title>
              </div>
            </div>
          </div>

          <div
            class="bg-white rounded shadow-md w-full"
            [ngClass]="{
              'flex-1': chartIsExpanded
            }"
          >
            <div class="flex h-full">
              <div class="flex h-16 items-center flex-shrink-0">
                <m-panel-title
                  [title]="'Chart'"
                  [isExpanded]="chartIsExpanded"
                  (toggleEvent)="toggleChartPanel()"
                ></m-panel-title>
              </div>
            </div>
          </div>

          <div
            class="bg-white rounded shadow-md w-full"
            [ngClass]="{
              'flex-1': dataIsExpanded
            }"
          >
            <div class="flex flex-col h-full">
              <div class="flex h-16 items-center flex-shrink-0">
                <m-panel-title
                  [title]="'Data'"
                  [isExpanded]="dataIsExpanded"
                  (toggleEvent)="toggleDataPanel()"
                ></m-panel-title>

                <button
                  class="w-24 py-3 ml-5 items-center text-lg text-gray1 select-none focus:outline-none"
                  [ngClass]="{
                    'font-semibold': resultsIsShow,
                    'text-gray-400 cursor-default': !dataIsExpanded
                  }"
                  [disabled]="!dataIsExpanded"
                  (click)="toggleResults()"
                  >Results</button
                >

                <button
                  class="w-16 py-3 ml-5 items-center text-lg text-gray1 select-none focus:outline-none"
                  [ngClass]="{
                    'font-semibold': sqlIsShow,
                    'text-gray-400 cursor-default': !dataIsExpanded
                  }"
                  [disabled]="!dataIsExpanded"
                  (click)="toggleSql()"
                  >SQL</button
                >
              </div>

              <div
                class="flex flex-row flex-stretch h-full mt-5 mx-5"
                *ngIf="dataIsExpanded"
              >
                <div *ngIf="resultsIsShow" class="flex-1">Results</div>

                <div class="flex-1 h-full w-full" *ngIf="sqlIsShow">
                  <m-sql></m-sql>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="routerEvents$ | async"></div>
<div *ngIf="nav$ | async"></div>
<div *ngIf="model$ | async"></div>
