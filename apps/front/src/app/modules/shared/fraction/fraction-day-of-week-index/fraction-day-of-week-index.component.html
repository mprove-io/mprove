<div class="ml-2 flex h-16 flex-row space-x-5">
  <div
    tippy="Turn off formula to activate control"
    [isEnabled]="isDisabled === true"
  >
    <ng-select
      #fractionDayOfWeekIndexTypeSelect
      data-cy="fractionDayOfWeekIndexTypeSelect"
      class="popup-55 w-48 focus:outline-none"
      [ngClass]="{
        custom: isDisabled !== true,
        'cursor-default': isDisabled === true
      }"
      [items]="fractionDayOfWeekIndexTypesList"
      [clearable]="false"
      [searchable]="false"
      [disabled]="isDisabled === true"
      [(ngModel)]="fraction.type"
      (change)="typeChange($event)"
      appendTo="body"
      bindLabel="label"
      bindValue="value"
    >
      <ng-template ng-label-tmp let-item="item">
        <div class="ml-1 truncate">{{ item.label }}</div>
      </ng-template>

      <ng-template ng-option-tmp let-item="item">
        <div class="ml-1 truncate">{{ item.label }}</div>
      </ng-template>
    </ng-select>
  </div>

  <form
    [formGroup]="dayOfWeekIndexValuesForm"
    *ngIf="
      fraction.type === fractionTypeEnum.DayOfWeekIndexIsEqualTo ||
      fraction.type === fractionTypeEnum.DayOfWeekIndexIsNotEqualTo
    "
  >
    <div
      tippy="Turn off formula to activate control"
      [isEnabled]="isDisabled === true"
    >
      <fieldset [disabled]="isDisabled === true">
        <input
          spellcheck="false"
          data-cy="fractionDayOfWeekIndexValuesInput"
          class="rows form-input border-gray3 focus:border-blue3 h-[36px] w-[404px] resize-none rounded"
          [ngClass]="{
            'border-red-600':
              dayOfWeekIndexValuesForm.controls['dayOfWeekIndexValues']
                .invalid &&
              dayOfWeekIndexValuesForm.controls['dayOfWeekIndexValues'].touched
          }"
          formControlName="dayOfWeekIndexValues"
          (blur)="dayOfWeekIndexValuesBlur()"
        />
      </fieldset>
    </div>

    <m-validation
      [control]="dayOfWeekIndexValuesForm.controls['dayOfWeekIndexValues']"
    ></m-validation>
  </form>
</div>
