<div class="flex flex-row ml-2 space-x-5 h-16">
  <form [formGroup]="fractionTypeForm">
    <ng-select
      #fractionTsTypeSelect
      data-cy="fractionTsTypeSelect"
      class="flex w-64 focus:outline-none"
      [items]="fractionTsTypesList"
      [clearable]="false"
      [searchable]="false"
      (change)="typeChange($event)"
      bindLabel="label"
      bindValue="value"
      formControlName="fractionType"
    >
    </ng-select>
  </form>

  <!-- on -->
  <nz-date-picker
    *ngIf="fraction.type === fractionTypeEnum.TsIsOnYear"
    class="h-[36px]"
    data-cy="fractionTsDate"
    nzMode="year"
    nzAllowClear="false"
    [(ngModel)]="date"
    (nzOnOpenChange)="yearOpenClose()"
  ></nz-date-picker>

  <nz-date-picker
    *ngIf="fraction.type === fractionTypeEnum.TsIsOnMonth"
    class="h-[36px]"
    data-cy="fractionTsDate"
    nzMode="month"
    nzAllowClear="false"
    [(ngModel)]="date"
    (nzOnOpenChange)="monthOpenClose()"
  ></nz-date-picker>

  <nz-date-picker
    *ngIf="fraction.type === fractionTypeEnum.TsIsOnDay"
    class="h-[36px]"
    data-cy="fractionTsDate"
    nzMode="date"
    nzAllowClear="false"
    [(ngModel)]="date"
    (nzOnOpenChange)="dayOpenClose()"
  ></nz-date-picker>

  <div
    *ngIf="fraction.type === fractionTypeEnum.TsIsOnHour"
    class="flex flex-row space-x-5"
  >
    <nz-date-picker
      class="h-[36px]"
      data-cy="fractionTsDate"
      nzMode="date"
      nzAllowClear="false"
      [(ngModel)]="date"
      (nzOnOpenChange)="hourOpenClose()"
    ></nz-date-picker>

    <nz-time-picker
      class="h-[36px]"
      data-cy="fractionTsTime"
      nzAllowEmpty="false"
      [nzMinuteStep]="nzMinuteStep"
      [nzSecondStep]="nzSecondStep"
      [nzDisabledMinutes]="disabledMinutes"
      [nzDisabledSeconds]="disabledSeconds"
      [(ngModel)]="date"
      (nzOpenChange)="hourOpenClose()"
    ></nz-time-picker>
  </div>

  <div
    *ngIf="fraction.type === fractionTypeEnum.TsIsOnMinute"
    class="flex flex-row space-x-5"
  >
    <nz-date-picker
      class="h-[36px]"
      data-cy="fractionTsDate"
      nzMode="date"
      nzAllowClear="false"
      [(ngModel)]="date"
      (nzOnOpenChange)="minuteOpenClose()"
    ></nz-date-picker>

    <nz-time-picker
      class="h-[36px]"
      data-cy="fractionTsTime"
      nzAllowEmpty="false"
      [nzSecondStep]="nzSecondStep"
      [nzDisabledSeconds]="disabledSeconds"
      [(ngModel)]="date"
      (nzOpenChange)="minuteOpenClose()"
    ></nz-time-picker>
  </div>

  <div
    *ngIf="fraction.type === fractionTypeEnum.TsIsInRange"
    class="flex flex-row space-x-5"
  >
    <nz-date-picker
      class="h-[36px]"
      data-cy="fractionTsDate"
      nzMode="date"
      nzAllowClear="false"
      [(ngModel)]="date"
      (nzOnOpenChange)="rangeFromOpenClose()"
    ></nz-date-picker>

    <nz-time-picker
      class="h-[36px]"
      data-cy="fractionTsTime"
      nzAllowEmpty="false"
      [nzSecondStep]="nzSecondStep"
      [nzDisabledSeconds]="disabledSeconds"
      [(ngModel)]="date"
      (nzOpenChange)="rangeFromOpenClose()"
    ></nz-time-picker>

    <div class="flex h-[36px] justify-center items-center">to</div>

    <nz-date-picker
      class="h-[36px]"
      data-cy="fractionTsDateTo"
      nzMode="date"
      nzAllowClear="false"
      [(ngModel)]="dateTo"
      (nzOnOpenChange)="rangeToOpenClose()"
    ></nz-date-picker>

    <nz-time-picker
      class="h-[36px]"
      data-cy="fractionTsTimeTo"
      nzAllowEmpty="false"
      [nzSecondStep]="nzSecondStep"
      [nzDisabledSeconds]="disabledSeconds"
      [(ngModel)]="dateTo"
      (nzOpenChange)="rangeToOpenClose()"
    ></nz-time-picker>
  </div>
</div>
