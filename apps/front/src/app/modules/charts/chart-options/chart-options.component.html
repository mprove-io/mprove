<button
  data-cy="chartOptionsMenuButton"
  class="flex h-9 w-9 items-center justify-center rounded hover:bg-blue-200 focus:outline-none"
  #t1="tippy"
  [tp]="templateChartOptions"
  [tpHideOnEscape]="true"
  tpVariation="menu"
  className="my-menu"
  [tpOffset]="[0, 4]"
  (click)="clickMenu($event)"
>
  <m-dots-vertical-icon></m-dots-vertical-icon>
</button>

<ng-template #templateChartOptions>
  <div class="border-gray4 w-64 rounded-md border-2 bg-white shadow-xl">
    <button
      data-cy="chartOptionsGoToFile"
      class="text-gray1 hover:bg-blue2 w-full px-4 py-2 text-left text-base focus:outline-none"
      (click)="t1.hide(); goToFile($event)"
      >Go to file</button
    >

    <div
      tp="Chart can be edited by author and project members with ProjectAdmin or FilesEditor role. Try to save chart as new to become an author."
      placement="left"
      [tpIsEnabled]="chart.canEditOrDeleteChart === false"
    >
      <button
        data-cy="chartOptionsEditInfo"
        class="text-gray1 hover:bg-blue2 w-full px-4 py-2 text-left text-base focus:outline-none"
        [ngClass]="{
          'cursor-default text-gray-400': chart.canEditOrDeleteChart === false
        }"
        (click)="t1.hide(); editChartInfo($event, chart)"
        [disabled]="chart.canEditOrDeleteChart === false"
        >Edit Info</button
      >
    </div>

    <div
      tp="Chart can be deleted by author and project members with ProjectAdmin or FilesEditor role. Try to save chart as new to become an author."
      placement="left"
      [tpIsEnabled]="chart.canEditOrDeleteChart === false"
    >
      <button
        data-cy="chartOptionsDelete"
        class="text-gray1 hover:bg-blue2 w-full px-4 py-2 text-left text-base focus:outline-none"
        [ngClass]="{
          'cursor-default text-gray-400': chart.canEditOrDeleteChart === false
        }"
        (click)="t1.hide(); deleteChart($event, chart)"
        [disabled]="chart.canEditOrDeleteChart === false"
        >Delete</button
      >
    </div>
  </div>
</ng-template>
