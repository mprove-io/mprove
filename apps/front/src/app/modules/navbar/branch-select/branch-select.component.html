<ng-select
  #branchSelect
  data-cy="branchSelect"
  class="flex focus:outline-none w-64 ml-5"
  (open)="openBranchSelect()"
  [loading]="branchesListLoading"
  [items]="branchesList"
  [clearable]="false"
  [disabled]="selectedProjectId === undefined"
  [searchable]="false"
  [(ngModel)]="selectedBranchExtraId"
  (change)="branchChange()"
  placeholder="Repository - Branch"
  bindLabel="extraName"
  bindValue="extraId"
>
  <ng-template
    ng-header-tmp
    *ngIf="branchesListLength > 0 && selectedBranchItem"
  >
    <div class="font-semibold text-sm"> Repository - Branch </div>
  </ng-template>
  <ng-template ng-footer-tmp *ngIf="isEditor === true">
    <button
      data-cy="branchSelectDeleteBranchButton"
      class="py-3 rounded w-full focus:outline-none"
      [ngClass]="{
        'text-gray-400 cursor-default':
          selectedBranchItem.branchId === branchMaster,
        'text-red1 hover:bg-blue2': selectedBranchItem.branchId !== branchMaster
      }"
      (click)="deleteBranch(branchSelect)"
      [disabled]="selectedBranchItem.branchId === branchMaster"
      >Delete Branch</button
    >
    <button
      data-cy="branchSelectCreateBranchButton"
      class="py-3 rounded text-blue3 hover:bg-blue2 w-full focus:outline-none"
      (click)="createNewBranch(branchSelect)"
      >+ New Local Branch</button
    >
  </ng-template>
</ng-select>

<div *ngIf="nav$ | async"></div>
<div *ngIf="isEditor$ | async"></div>
