<div class="flex h-full flex-row items-center justify-center">
  <div *ngIf="isRunning === true" class="relative h-9 w-9">
    <ngx-spinner
      [name]="spinnerName"
      color="rgb(59, 130, 246)"
      bdColor="rgba(0, 0, 0, 0)"
      size="default"
      type="ball-pulse"
      [fullScreen]="false"
      [disableAnimation]="true"
      [zIndex]="99998"
    >
    </ngx-spinner>
  </div>

  <div
    *ngIf="
      isRunning === false && params.data.query?.status === queryStatusEnum.Error
    "
    class="text-red1 flex h-8 w-8 flex-shrink-0"
    tp="Query Error: {{ params.data.query?.lastErrorMessage }}"
    placement="left"
  >
    <m-exclamation-icon></m-exclamation-icon>
  </div>

  <div
    *ngIf="isRunning === false && !!topQueryError"
    class="flex h-8 w-8 flex-shrink-0"
    [ngClass]="{
      'text-gray-400': topQueryError === someRowsHaveFormulaErrors,
      'text-red1': topQueryError !== someRowsHaveFormulaErrors
    }"
    tp="{{ topQueryError }}"
    placement="left"
  >
    <m-exclamation-icon></m-exclamation-icon>
  </div>

  <div
    *ngIf="!topQueryError && isLimitReached === true"
    class="flex h-8 w-8 flex-shrink-0 text-amber-500"
    tp="Row limit reached ({{
      timeColumnsLimit
    }}). Therefore, the result may contain incomplete data. Change time detail or reduce time filter window."
  >
    <m-exclamation-icon></m-exclamation-icon>
  </div>

  <div
    *ngIf="
      isRunning === false &&
      params.data.query?.status !== queryStatusEnum.Error &&
      !topQueryError &&
      isLimitReached === false &&
      !!params.data.mconfig &&
      params.data.mconfig.warnSelect.length > 0
    "
    class="flex h-8 w-8 flex-shrink-0 text-purple-500"
    tp="Warning: The selected fields [{{
      params.data.mconfig.warnSelect.join(', ')
    }}] may use unsafe aggregations and produce incorrect results"
    placement="left"
  >
    <m-exclamation-icon></m-exclamation-icon>
  </div>

  <!-- <div>{{ params.value }}</div> -->
</div>
