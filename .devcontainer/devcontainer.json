{
  "name": "Node",
  "build": {
    "dockerfile": "Dockerfile"
  },
  "features": {
    "ghcr.io/devcontainers/features/github-cli:1": {}
  },
  "remoteUser": "root",
  "workspaceFolder": "/mprove",
  "runArgs": ["--network=host"],
  "mounts": [
    "source=${localEnv:HOME}${localEnv:USERPROFILE}/.claude,target=/root/.claude,type=bind,consistency=cached",
    "source=${localEnv:HOME}${localEnv:USERPROFILE}/.claude.json,target=/root/.claude.json,type=bind,consistency=cached",
    "source=${localEnv:HOME}${localEnv:USERPROFILE}/.claude.json.backup,target=/root/.claude.json.backup,type=bind,consistency=cached",
    "source=${localEnv:HOME}${localEnv:USERPROFILE}/.zsh_history,target=/root/.zsh_history,type=bind,consistency=cached",
    "source=${localWorkspaceFolder},target=${containerWorkspaceFolder},type=bind,consistency=cached",
    "source=mprove-pnpm-store,target=${containerWorkspaceFolder}/.pnpm-store,type=volume",
    "source=mprove-turbo,target=${containerWorkspaceFolder}/.turbo,type=volume",
    "source=mprove-tmp,target=${containerWorkspaceFolder}/tmp,type=volume",
    "source=mprove-front-angular,target=${containerWorkspaceFolder}/apps/front/.angular,type=volume",
    "source=mprove-mcli-bun,target=${containerWorkspaceFolder}/mcli/.bun,type=volume",

    "source=mprove-node_modules,target=${containerWorkspaceFolder}/node_modules,type=volume",
    "source=mprove-backend-node_modules,target=${containerWorkspaceFolder}/apps/backend/node_modules,type=volume",
    "source=mprove-blockml-node_modules,target=${containerWorkspaceFolder}/apps/blockml/node_modules,type=volume",
    "source=mprove-chat-node_modules,target=${containerWorkspaceFolder}/apps/chat/node_modules,type=volume",
    "source=mprove-disk-node_modules,target=${containerWorkspaceFolder}/apps/disk/node_modules,type=volume",
    "source=mprove-front-node_modules,target=${containerWorkspaceFolder}/apps/front/node_modules,type=volume",
    "source=mprove-mcli-node_modules,target=${containerWorkspaceFolder}/mcli/node_modules,type=volume",
    "source=mprove-common-node_modules,target=${containerWorkspaceFolder}/libs/common/node_modules,type=volume",
    "source=mprove-node-common-node_modules,target=${containerWorkspaceFolder}/libs/node-common/node_modules,type=volume",

    "source=mprove-turbo,target=${containerWorkspaceFolder}/.turbo,type=volume",
    "source=mprove-backend-turbo,target=${containerWorkspaceFolder}/apps/backend/.turbo,type=volume",
    "source=mprove-blockml-turbo,target=${containerWorkspaceFolder}/apps/blockml/.turbo,type=volume",
    "source=mprove-chat-turbo,target=${containerWorkspaceFolder}/apps/chat/.turbo,type=volume",
    "source=mprove-disk-turbo,target=${containerWorkspaceFolder}/apps/disk/.turbo,type=volume",
    "source=mprove-front-turbo,target=${containerWorkspaceFolder}/apps/front/.turbo,type=volume",
    "source=mprove-common-turbo,target=${containerWorkspaceFolder}/libs/common/.turbo,type=volume",
    "source=mprove-node-common-turbo,target=${containerWorkspaceFolder}/libs/node-common/.turbo,type=volume",

    "source=mprove-backend-dist,target=${containerWorkspaceFolder}/apps/backend/dist,type=volume",
    "source=mprove-blockml-dist,target=${containerWorkspaceFolder}/apps/blockml/dist,type=volume",
    "source=mprove-chat-dist,target=${containerWorkspaceFolder}/apps/chat/dist,type=volume",
    "source=mprove-disk-dist,target=${containerWorkspaceFolder}/apps/disk/dist,type=volume",
    "source=mprove-front-dist,target=${containerWorkspaceFolder}/apps/front/dist,type=volume"
  ],
  "initializeCommand": "bash .devcontainer/init.sh",
  "postCreateCommand": "bash .devcontainer/post-create.sh",
  "postStartCommand": "bash .devcontainer/post-start.sh",
  "postAttachCommand": "bash .devcontainer/post-attach.sh",
  "customizations": {
    "vscode": {
      "extensions": [
        "anthropic.claude-code",
        "yzhang.markdown-all-in-one",
        "yoavbls.pretty-ts-errors",
        "kraftwer1.darcula-extra",
        "PKief.material-icon-theme",
        "esbenp.prettier-vscode",
        "biomejs.biome",
        "ghaschel.vscode-angular-html",
        "bradlc.vscode-tailwindcss",
        "wayou.vscode-todo-highlight",
        "ms-vscode-remote.remote-containers"
      ],
      "settings": {
        "workbench.settings.useSplitJSON": false,
        "typescript.tsdk": "node_modules/typescript/lib",
        "[typescript]": {
          "editor.defaultFormatter": "biomejs.biome"
        },
        "[javascript]": {
          "editor.defaultFormatter": "biomejs.biome"
        },
        "[css]": {
          "editor.defaultFormatter": "biomejs.biome"
        },
        "[jsonc]": {
          "editor.defaultFormatter": "biomejs.biome"
        },
        "[json]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode"
        },
        "[scss]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode"
        },
        "[html]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode"
        },
        "[md]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode"
        },
        "search.exclude": {
          "**/mprove_data": true,
          "**/node_modules": true,
          "**/dist": true
        },
        "workbench.editor.closeOnFileDelete": true,
        "files.enableTrash": false,
        "workbench.colorTheme": "Darcula Extra",
        "diffEditor.ignoreTrimWhitespace": false,
        "git.confirmSync": false,
        "git.enableSmartCommit": true,
        "editor.links": false,
        "terminal.integrated.scrollback": 10000,
        "editor.accessibilitySupport": "off",
        "workbench.iconTheme": "material-icon-theme",
        "editor.suggest.showReferences": false,
        "files.autoSave": "afterDelay",
        "javascript.updateImportsOnFileMove.enabled": "never",
        "workbench.startupEditor": "newUntitledFile",
        "typescript.updateImportsOnFileMove.enabled": "never",
        "extensions.ignoreRecommendations": true,
        "files.autoSaveDelay": 300,
        "workbench.editor.untitled.hint": "hidden",
        "editor.largeFileOptimizations": false,
        "workbench.panel.defaultLocation": "bottom",
        "typescript.referencesCodeLens.enabled": true,
        "editor.detectIndentation": false,
        "editor.defaultFormatter": "esbenp.prettier-vscode",
        "window.zoomLevel": 3.25,
        "redhat.telemetry.enabled": false,
        "editor.bracketPairColorization.enabled": false,
        "workbench.editor.splitInGroupLayout": "horizontal",
        "editor.tabSize": 2,
        "explorer.confirmDelete": false,
        "workbench.settings.editor": "json",
        "editor.codeLens": false,
        "files.associations": {
          "*.chart": "yaml",
          "*.dashboard": "yaml",
          "*.report": "yaml",
          "*.store": "yaml",
          "*.config": "yaml",
          "*.preset": "yaml"
        }
      }
    }
  }
}
